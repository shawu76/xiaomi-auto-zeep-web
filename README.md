# 🏃‍♂️ 自动跑步步数提交系统（二次开发版）

基于 gaocaipeng 大神的项目二次开发，增加了 Web 管理界面、多用户支持和更灵活的配置功能！

简单来说：这是一个功能更强大的自动提交跑步步数的工具，支持多用户管理、网页界面操作、灵活的额度控制，每天自动运行，完全不用你操心！

- **原作者**：gaocaipeng
- **原仓库**：https://github.com/gaocaipeng/xiaomi-auto-zeep
- **二次开发**：[shawu76]
## 🚀 主要改进（相比原版）

- ✅ 增加 Web 管理界面，操作更直观
- ✅ 支持多用户系统，管理员可分配额度
- ✅ 账号有效期管理，自动过期提醒
- ✅ 自定义步数值，支持固定步数设置
- ✅ 完整的操作日志，方便追踪问题
- ✅ 本地部署支持，更安全可控
- ✅ 状态监控面板，一目了然
## 🤔 这个系统是干什么的？

想象一下，你每天都要手动去某个网站提交跑步步数，很麻烦对吧？这个系统就是帮你自动完成这个工作的：

- ✅ 自动提交步数：不用你手动操作
- ✅ 支持多个账号：可以同时管理好几个账号
- ✅ 智能生成步数：根据时间生成合理的步数
- ✅ 每天自动运行：设置一次，永远不用管
- ✅ 多用户支持：适合团队或家庭使用
- ✅ 网页管理：通过浏览器就能轻松配置
## 🎯 核心功能

### 📊 智能步数生成

系统会根据当前时间自动生成合适的步数，每个账号的步数都不一样，更真实：

| 时间段 | 步数范围 | 说明 | 执行时间 |
| --- | --- | --- | --- |
| 早上 8 点 | 6000-10000 步 | 晨跑时间 | 每天 8:00 |
| 中午 12 点 | 8000-14000 步 | 午休运动 | 每天 12:00 |
| 下午 4 点 | 10000-18000 步 | 下午锻炼 | 每天 16:00 |
| 晚上 8 点 | 12000-22000 步 | 晚间运动 | 每天 20:00 |
| 晚上 10 点 | 15000-24000 步 | 夜跑时间 | 每天 22:00 |
| 其他时间 | 24465 步 | 默认步数 | - |
### 🔧 增强管理功能

- 管理员可以创建普通用户并分配账号额度
- 支持设置全局最大账号数量限制
- 每个账号可独立设置是否启用、到期时间
- 详细的操作日志记录，方便排查问题
## 💻 本地部署（推荐）

### 环境要求

- Python 3.6+

### 安装步骤

#### 克隆代码

```bash
git clone https://github.com/shawu76/xiaomi-auto-zeep-web.git
cd xiaomi-auto-zeep-web
```

#### 安装依赖（使用国内镜像加速）

```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

如果没有 requirements.txt，可以直接安装：

```bash
pip install flask apscheduler requests werkzeug -i https://pypi.tuna.tsinghua.edu.cn/simple
```

#### 启动系统

```bash
python step_system.py
```

#### 访问系统

打开浏览器，访问 http://localhost:5000
## 🔑 首次使用

### 使用默认管理员账号登录

- 用户名：admin
- 密码：admin123

> ⚠️ 首次登录后请立即修改密码！

### 管理员操作流程

1. 可以直接添加跑步账号
2. 也可以创建普通用户，分配账号额度
3. 设置系统全局额度限制

### 普通用户操作流程

1. 使用管理员创建的账号登录
2. 添加自己的跑步账号
3. 可设置自定义步数或使用自动生成
## 📱 如何查看运行结果

- 登录系统后，在首页下方可以查看最新运行日志
- 点击 "查看日志" 按钮可查看特定账号的历史记录
- 日志文件同时保存在系统目录的step_system.log中
## ⚙️ 高级设置

### 手动运行

在账号列表中，点击 "立即运行" 按钮可以手动触发步数提交

### 自定义步数

每个账号都可以设置自定义步数：
1. 点击账号后的 "设置步数" 按钮
2. 输入想要的步数（1-60000 之间）
3. 保存设置，系统会优先使用自定义步数

### 修改自动提交时间

编辑代码中start_scheduler函数的定时设置，修改hour参数调整执行时间
## ❓ 常见问题

### Q: 系统启动失败怎么办？
A: 检查 Python 版本是否符合要求，依赖包是否安装完整

### Q: 提交步数失败如何排查？
A: 查看运行日志，检查账号密码是否正确，网络是否通畅

### Q: 如何更新到最新版本？
A: 拉取最新代码后重启系统即可，数据库会自动兼容

### Q: 可以同时在多台设备上运行吗？
A: 可以，但建议只在一台设备上运行，避免提交冲突

### Q: 数据保存在哪里？
A: 所有数据保存在系统目录的step_accounts.db文件中，请定期备份
## ⚠️ 重要提醒

- **仅供学习使用**：请遵守相关服务的使用条款
- **合理使用**：不要过于频繁地提交
- **保护隐私**：系统会加密存储密码，但仍建议定期更换
- **定期检查**：偶尔看看运行日志，确保一切正常
- **二次开发说明**：本项目基于 gaocaipeng 的开源项目开发，遵循原项目的开源协议
## 📝 项目信息

- **原作者**：gaocaipeng
- **原仓库**：https://github.com/gaocaipeng/xiaomi-auto-zeep
- **二次开发**：[shawu76]
- **开源协议**：MIT

如果觉得这个二次开发版本有用，别忘了给原项目和本项目都点个⭐️哦！
